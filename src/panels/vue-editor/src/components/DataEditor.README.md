# 数据编辑功能说明

## 页面结构

```
App.vue
├── main (主页面)
│   └── 点击表按钮 → data-editor
├── config (配置管理)
│   └── 新增/编辑表 → table-editor
├── table-editor (表配置编辑)
└── data-editor (表数据编辑) ✨ 新增
```

## 功能特性

### DataEditor.vue - 数据编辑页面

**主要功能**：
- ✅ 显示表的所有数据（表格形式）
- ✅ 新增数据条目
- ✅ 编辑现有数据
- ✅ 删除数据条目
- ✅ 自动格式化显示不同类型的值

**字段类型支持**：
- `string` - 文本输入
- `number` - 数字输入
- `boolean` - 复选框
- `select` - 下拉选择
- `reward` - 奖励输入（id + count）
- `array` - JSON 数组编辑
- `object` - JSON 对象编辑

### FieldInput.vue - 字段输入组件

**自动适配字段类型**：
- 文本/数字：使用 `<input>` 
- 布尔：使用 `<checkbox>`
- 下拉：使用 `<select>`
- 奖励：双输入框（ID × 数量）
- 数组/对象：JSON 编辑器（带弹窗）

**特色功能**：
- 数组和对象使用 JSON 格式编辑
- 实时验证 JSON 格式
- 格式化显示（2 空格缩进）

## 使用流程

1. **打开表**：主页面点击表按钮
2. **查看数据**：表格形式显示所有数据
3. **新增数据**：
   - 点击"➕ 新增数据"
   - 填写数据 Key 和字段值
   - 点击"确定"保存
4. **编辑数据**：
   - 点击数据行的"✏️"按钮
   - 修改字段值
   - 点击"确定"保存
5. **删除数据**：
   - 点击数据行的"🗑️"按钮
   - 确认删除
6. **保存**：点击"💾 保存"按钮保存到文件

## 数据结构

```typescript
// 表数据项
interface ITableDataItem {
  index: number;           // 排序索引
  info: Record<string, any>; // 实际数据
}

// 表数据集合
tableDef.data = {
  "item_001": {
    index: 0,
    info: { id: 1, name: "宝剑", attack: 50 }
  },
  "item_002": {
    index: 1,
    info: { id: 2, name: "盾牌", defense: 30 }
  }
}
```

## 样式设计

- 深色主题：VS Code 风格
- 响应式布局：适配不同屏幕
- 悬停效果：交互反馈
- 数据预览：长文本省略显示

## 后续优化方向

- [ ] 批量导入数据（CSV/Excel）
- [ ] 数据搜索和筛选
- [ ] 数据排序（点击表头）
- [ ] 数据分页（大数据量）
- [ ] 撤销/重做功能
- [ ] 数据验证（必填、范围等）
- [ ] 富文本编辑器（多行文本）
- [ ] 嵌套对象/数组的可视化编辑
